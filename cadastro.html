<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <!-- Meta tags Obrigatórias -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="/assets/css/default.css">
        <title>Formulário de Cadastro - Loja do Roger</title>
    </head>
    <body>

        <header>
            <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
                <a class="navbar-brand" href="#">
                    <img src="https://getbootstrap.com.br/docs/4.1/assets/brand/bootstrap-solid.svg" width="30" height="30" class="d-inline-block align-top" alt="">
                    Loja do Roger
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Alterna navegação">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="/">Home <span class="sr-only">(Página atual)</span></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/cadastro.html">Cadastro</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/usuario.html">Usuário</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>

        <main class="container">

            <h1 class="pt-3">Formulário de Cadastro</h1>
            
            <form action="https://pes.ufsc.br/devs-1.php" method="post">
                
                <section id="info-basicas">
                    
                    <h4 class="mt-4 mb-3">Informações básicas</h4>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <span class="mr-2">Qual o tipo do cadastro?</span>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="tipo-cadastro" id="tipo-cadastro-pf" value="PF" required checked>
                                <label class="form-check-label" for="tipo-cadastro-pf">Pessoa Física</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="tipo-cadastro" id="tipo-cadastro-pj" value="PJ" required>
                                <label class="form-check-label" for="tipo-cadastro-pj">Pessoa Jurídica</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="nome"><b>Nome Completo:</b></label>
                            <input type="text" id="nome" name="nome" class="form-control" required>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="cpf-cnpj"><b>CPF:</b></label>
                            <input type="text" id="cpf-cnpj" name="cpf-cnpj" class="form-control" required>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="data-nasc"><b>Data Nascimento:</b></label>
                            <input type="date" id="data-nasc" name="data-nasc" class="form-control" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="email"><b>E-mail:</b></label>
                            <input type="email" id="email" name="email" class="form-control" required>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="senha-1"><b>Senha:</b></label>
                            <input type="password" id="senha-1" name="senha-1" class="form-control" required>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="senha-2"><b>Confirme sua senha:</b></label>
                            <input type="password" id="senha-2" name="senha-2" class="form-control" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-3">
                            <label for="telefone"><b>Telefone:</b></label>
                            <input type="number" id="telefone" name="campo-adicional-0" class="form-control" required>
                        </div>
                    </div>

                </section>
                
                <section id="info-endereco">
                    
                    <h4 class="mt-4 mb-3">Informações de endereço</h4>
                    
                    <div class="form-row">
                        <div class="form-group col-md-3">
                            <label for="cep"><b>CEP:</b></label>
                            <input type="number" class="form-control" id="cep" name="cep">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="endereco"><b>Endereço (rua):</b></label>
                            <input type="text" class="form-control" id="endereco" name="endereco" disabled>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="numero"><b>Número:</b></label>
                            <input type="number" class="form-control" id="numero" name="numero">
                        </div>
                        <div class="form-check form-check-inline pt-3 pl-2">
                            <input type="checkbox" class="form-check-input" name="sem-numero" id="sem-numero">
                            <label for="sem-numero" class="form-check-label">Endereço sem número</label>
                        </div>
                            
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group col-12">
                            <label for="complemento"><b>Complemento:</b></label>
                            <input type="text" class="form-control" id="complemento" name="complemento">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group col-md-5">
                            <label for="bairro"><b>Bairro:</b></label>
                            <input type="text" class="form-control" id="bairro" name="bairro">
                        </div>
                        <div class="form-row col-md-7">
                            <div class="form-group col-9">
                                <label for="cidade"><b>Cidade:</b></label>
                                <input type="text" class="form-control" id="cidade" name="cidade">
                            </div>
                            <div class="form-group col-3">
                                <label for="estado"><b>Estado:</b></label>
                                <select class="form-control" name="estado" id="estado">
                                    <option value="" selected>Selecione...</option>
                                    <option value="SC">SC</option>
                                    <option value="PR">PR</option>
                                </select>
                            </div>
                        </div>
                    
                    </div>
                </section>

                <section id="termos">
                    
                    <div class="form-row mb-4">
                        <div class="form-check form-check-inline">
                            <input type="checkbox" class="form-check-input" name="termos-servico" id="termos-servico" required>
                            <label for="termo-servico" class="form-check-label">Ao continuar com o cadastro, você aceita os nossos termos de serviço.</label>
                        </div>
                    </div>

                </section>

                <button class="btn btn-primary" type="submit" id="btn-enviar">ENVIAR</button>

            </form>
        </main>
        

        <footer class="footer">
            <p class="mt-3 mb-2"><b>2021 Roger Eliodor Condras &copy;</b></p>
            <p>Contato: email@exemplo.com</p>
        </footer>

        
        <!-- jQuery primeiro, depois Popper.js, depois Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <!-- JavaScript (Opcional) -->
        <script src="/assets/js/cadastro.js"></script>
        <script>
            $(document).ready(function() {

            function limpa_formulário_cep() {
                // Limpa valores do formulário de cep.
                $("#endereco").val("");
                $("#bairro").val("");
                $("#cidade").val("");
                $("#estado").val("");
                $("#ibge").val("");
            }

            //Quando o campo cep perde o foco.
            $("#cep").blur(function() {

                //Nova variável "cep" somente com dígitos.
                var cep = $(this).val().replace(/\D/g, '');

                //Verifica se campo cep possui valor informado.
                if (cep != "") {

                    //Expressão regular para validar o CEP.
                    var validacep = /^[0-9]{8}$/;

                    //Valida o formato do CEP.
                    if(validacep.test(cep)) {

                        //Preenche os campos com "..." enquanto consulta webservice.
                        $("#endereco").val("...");
                        $("#bairro").val("...");
                        $("#cidade").val("...");
                        $("#estado").val("...");
                        $("#ibge").val("...");

                        //Consulta o webservice viacep.com.br/
                        $.getJSON("https://viacep.com.br/ws/"+ cep +"/json/?callback=?", function(dados) {

                            if (!("erro" in dados)) {
                                //Atualiza os campos com os valores da consulta.
                                $("#endereco").val(dados.logradouro);
                                $("#bairro").val(dados.bairro);
                                $("#cidade").val(dados.localidade);
                                $("#estado").val(dados.uf);
                                $("#ibge").val(dados.ibge);
                            } //end if.
                            else {
                                //CEP pesquisado não foi encontrado.
                                limpa_formulário_cep();
                                alert("CEP não encontrado.");
                            }
                        }); 
                    } //end if.
                    else {
                        //cep é inválido.
                        limpa_formulário_cep();
                        alert("Formato de CEP inválido.");
                    }
                } //end if.
                else {
                    //cep sem valor, limpa formulário.
                    limpa_formulário_cep();
                }
            });
            });
        </script>
    </body>
</html>